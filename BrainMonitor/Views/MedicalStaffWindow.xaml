<Window x:Class="BrainMonitor.Views.MedicalStaffWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="医护人员登陆/操作界面" Height="800" Width="800"
    WindowStartupLocation="CenterScreen"
    Background="#FAFAFA">

    <Grid Margin="20" MouseLeftButtonDown="MainGrid_MouseLeftButtonDown">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- 医护人员信息区域 -->
        <Border x:Name="StaffInfoBorder" Grid.Row="0" Style="{StaticResource CardStyle}" Margin="10,0,10,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- 医护人员信息显示 -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock x:Name="StaffInfoTextBlock"
                        Text="医护人员：未登录"
                        FontSize="16"
                        FontWeight="SemiBold"
                        Foreground="#666666"
                        VerticalAlignment="Center" />
                </StackPanel>

                <!-- 登录/退出按钮 -->
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="LoginRegisterButton"
                        Content="注册/登录"
                        Style="{StaticResource ModernButton}"
                        Width="120"
                        Height="40"
                        FontSize="14"
                        Margin="0,0,10,0"
                        Click="LoginRegisterButton_Click" />
                    <Button x:Name="LogoutButton"
                        Content="退出"
                        Style="{StaticResource SecondaryButton}"
                        Width="80"
                        Height="40"
                        FontSize="14"
                        Visibility="Collapsed"
                        Click="LogoutButton_Click" />
                </StackPanel>
            </Grid>
        </Border>

        <!-- 登录注册界面 -->
        <Border x:Name="LoginRegisterPanel" Grid.Row="0" Style="{StaticResource CardStyle}" 
                Margin="10,0,10,15" Visibility="Collapsed">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- 标题 -->
                <TextBlock Text="医护人员登录/注册"
                    Grid.Row="0"
                    FontSize="20"
                    FontWeight="Bold"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,20"
                    Foreground="#2C3E50" />

                <!-- 登录/注册切换 -->
                <StackPanel Grid.Row="1" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Center"
                    Margin="0,0,0,20">
                    <RadioButton x:Name="LoginRadioButton"
                        Content="登录"
                        IsChecked="True"
                        Margin="0,0,20,0"
                        FontSize="16"
                        Foreground="#2C3E50"
                        Checked="LoginRadioButton_Checked" />
                    <RadioButton x:Name="RegisterRadioButton"
                        Content="注册"
                        FontSize="16"
                        Foreground="#2C3E50"
                        Checked="RegisterRadioButton_Checked" />
                </StackPanel>

                <!-- 姓名输入 -->
                <TextBlock x:Name="NameLabel" Text="姓名："
                    Grid.Row="2"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Margin="0,0,0,5"
                    Foreground="#2C3E50" />
                <TextBox x:Name="NameTextBox"
                    Grid.Row="3"
                    Height="35"
                    FontSize="14"
                    VerticalContentAlignment="Center"
                    Margin="0,0,0,15"
                    Style="{StaticResource ModernTextBox}" />

                <!-- 账号输入 -->
                <TextBlock Text="账号："
                    Grid.Row="4"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Margin="0,0,0,5"
                    Foreground="#2C3E50" />
                <TextBox x:Name="AccountTextBox"
                    Grid.Row="5"
                    Height="35"
                    FontSize="14"
                    VerticalContentAlignment="Center"
                    Margin="0,0,0,15"
                    Style="{StaticResource ModernTextBox}" />

                <!-- 密码输入 -->
                <TextBlock Text="密码："
                    Grid.Row="6"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Margin="0,0,0,5"
                    Foreground="#2C3E50" />
                <PasswordBox x:Name="PasswordBox"
                    Grid.Row="7"
                    Height="35"
                    FontSize="14"
                    VerticalContentAlignment="Center"
                    Margin="0,0,0,15"
                    Style="{StaticResource ModernPasswordBox}" />

                <!-- 手机号输入 -->
                <TextBlock x:Name="PhoneLabel" Text="手机号："
                    Grid.Row="8"
                    FontSize="14"
                    FontWeight="SemiBold"
                    Margin="0,0,0,5"
                    Foreground="#2C3E50" />
                <TextBox x:Name="PhoneTextBox"
                    Grid.Row="9"
                    Height="35"
                    FontSize="14"
                    VerticalContentAlignment="Center"
                    Margin="0,0,0,20"
                    Style="{StaticResource ModernTextBox}" />

                <!-- 按钮区域 -->
                <StackPanel Grid.Row="10"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,20,0,0">
                    <Button x:Name="BackButton"
                        Content="返回"
                        Width="100"
                        Height="40"
                        FontSize="14"
                        Margin="0,0,20,0"
                        Style="{StaticResource SecondaryButton}"
                        Click="BackButton_Click" />
                    <Button x:Name="ActionButton"
                        Content="登录"
                        Width="100"
                        Height="40"
                        FontSize="14"
                        Style="{StaticResource ModernButton}"
                        Click="ActionButton_Click" />
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- 项目介绍区域 -->
        <Border x:Name="ProjectIntroBorder" Grid.Row="2" Style="{StaticResource CardStyle}">
            <TextBlock
                Text="本项目是一个专业的脑电波检测与健康风险评估系统，采用先进的脑电波分析技术，为医疗机构提供准确、可靠的认知健康评估服务。系统集成了MOCA和MMSE量表评估，能够全面分析用户的认知功能状态，为早期发现认知障碍提供科学依据。"
                TextWrapping="Wrap"
                FontSize="14"
                LineHeight="20" />
        </Border>

        <!-- 测试者列表区域 -->
        <Border x:Name="TesterListBorder" Style="{StaticResource CardStyle}" Grid.Row="3">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!-- 区域标题 -->
                <TextBlock Text="测试者列表"
                    FontSize="18"
                    FontWeight="SemiBold"
                    Margin="0,0,0,15"
                    Foreground="#2C3E50" />

                <!-- 搜索输入框和按钮 -->
                <Grid Grid.Row="1" Margin="0,0,0,15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <TextBox x:Name="SearchTextBox"
                        Style="{StaticResource ModernTextBox}"
                        Height="40"
                        VerticalContentAlignment="Center"
                        FontSize="14" />

                    <Button Content="搜索"
                        Style="{StaticResource ModernButton}"
                        Grid.Column="1"
                        Width="80"
                        Height="40"
                        Margin="10,0,0,0"
                        Click="SearchButton_Click" />

                    <Button x:Name="AddTesterButton" 
                        Content="新增测试者"
                        Style="{StaticResource ModernButton}"
                        Grid.Column="2"
                        Width="120"
                        Height="40"
                        Margin="10,0,0,0"
                        Click="AddTesterButton_Click" />
                </Grid>

                <!-- 测试者列表表格 -->
                <DataGrid x:Name="TesterDataGrid"
                    Grid.Row="2"
                    AutoGenerateColumns="False"
                    CanUserAddRows="False"
                    CanUserDeleteRows="False"
                    CanUserReorderColumns="False"
                    CanUserResizeColumns="False"
                    CanUserResizeRows="False"
                    CanUserSortColumns="True"
                    IsReadOnly="True"
                    GridLinesVisibility="Horizontal"
                    HeadersVisibility="Column"
                    SelectionMode="Single"
                    SelectionUnit="FullRow"
                    Background="Transparent"
                    BorderThickness="0"
                    RowHeaderWidth="0"
                    SelectionChanged="TesterDataGrid_SelectionChanged"
                    PreviewMouseLeftButtonDown="TesterDataGrid_PreviewMouseLeftButtonDown"
                    LostFocus="TesterDataGrid_LostFocus">
                    
                    <DataGrid.Resources>
                        <!-- 现代化表格样式 -->
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#F8F9FA" />
                            <Setter Property="Foreground" Value="#495057" />
                            <Setter Property="FontWeight" Value="SemiBold" />
                            <Setter Property="FontSize" Value="13" />
                            <Setter Property="Padding" Value="16,12" />
                            <Setter Property="BorderBrush" Value="#E0E0E0" />
                            <Setter Property="BorderThickness" Value="0,0,1,1" />
                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                            <Setter Property="VerticalContentAlignment" Value="Center" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="DataGridColumnHeader">
                                        <Border Background="{TemplateBinding Background}" 
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" 
                                                            VerticalAlignment="Center" />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                        
                        <Style TargetType="DataGridCell">
                            <Setter Property="Padding" Value="16,12" />
                            <Setter Property="BorderBrush" Value="#E0E0E0" />
                            <Setter Property="BorderThickness" Value="0,0,1,0" />
                            <Setter Property="VerticalAlignment" Value="Center" />
                            <Setter Property="HorizontalContentAlignment" Value="Center" />
                            <Setter Property="Background" Value="Transparent" />
                            <Setter Property="Foreground" Value="Black" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="DataGridCell">
                                        <Border Background="{TemplateBinding Background}" 
                                                Padding="{TemplateBinding Padding}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}">
                                            <ContentPresenter VerticalAlignment="Center" 
                                                            HorizontalAlignment="Center" />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>

                        <Style TargetType="DataGridRow">
                            <Setter Property="Background" Value="Transparent" />
                            <Setter Property="BorderThickness" Value="0" />
                            <Setter Property="Margin" Value="0,2" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="DataGridRow">
                                        <Border x:Name="RowBorder" 
                                                Background="{TemplateBinding Background}"
                                                Margin="0,2">
                                            <DataGridCellsPresenter />
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="RowBorder" Property="Background" Value="#F8F9FA" />
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter TargetName="RowBorder" Property="Background" Value="#BBDEFB" />
                                            </Trigger>
                                            <MultiTrigger>
                                                <MultiTrigger.Conditions>
                                                    <Condition Property="IsMouseOver" Value="True" />
                                                    <Condition Property="IsSelected" Value="True" />
                                                </MultiTrigger.Conditions>
                                                <Setter TargetName="RowBorder" Property="Background" Value="#90CAF9" />
                                            </MultiTrigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </DataGrid.Resources>

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding ID}" Width="80" />
                        <DataGridTextColumn Header="姓名" Binding="{Binding Name}" Width="120" />
                        <DataGridTextColumn Header="年龄" Binding="{Binding Age}" Width="80" />
                        <DataGridTextColumn Header="性别" Binding="{Binding Gender}" Width="80" />
                        <DataGridTextColumn Header="手机号" Binding="{Binding Phone}" Width="150" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>

        <!-- 主要操作按钮 -->
        <Grid x:Name="MainButtonsGrid" Grid.Row="4" Margin="0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0" />

            <Button x:Name="ViewHistoryButton"
                Content="查看测试历史"
                Grid.Column="1"
                Height="50"
                FontSize="16"
                IsEnabled="False"
                Margin="0,0,100,0"
                Click="ViewHistoryButton_Click">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButton}">
                        <Style.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#CCCCCC" />
                                <Setter Property="Foreground" Value="#666666" />
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <Button x:Name="EnterTestButton"
                Content="进入脑电测试"
                Grid.Column="2"
                Height="50"
                FontSize="16"
                IsEnabled="False"
                Click="EnterTestButton_Click">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource ModernButton}">
                        <Style.Triggers>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#CCCCCC" />
                                <Setter Property="Foreground" Value="#666666" />
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <Grid Grid.Column="3" />
        </Grid>

        <!-- 底部导航按钮
        <StackPanel Grid.Row="3"
            Orientation="Horizontal"
            HorizontalAlignment="Center">
            <Button Content="测试者分组"
                Style="{StaticResource SecondaryButton}"
                Margin="0,0,10,0"
                Click="TesterGroupButton_Click" />
            <Button Content="风险等级"
                Style="{StaticResource SecondaryButton}"
                Margin="0,0,10,0"
                Click="RiskLevelButton_Click" />
            <Button Content="我的"
                Style="{StaticResource SecondaryButton}"
                Click="MyProfileButton_Click" />
        </StackPanel> -->
    </Grid>
</Window> 